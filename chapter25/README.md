# Algebra for monads
### Utilities used by code below
```ocaml
let compose f g x = f (g x)
```
### Introduction
- Endofunctors - defines expressions
- Algebras - Evaluate them
- Monads - Allows us to form and manipulate expressions
- Algebras + Monads
- Relation between monads and adjunctions
- Every adjunction defines a monad and a comonad
- Monad is an endofunctor m equipped with two natural transformations that satisfy some coherence conditions
- N_a : a -> m a
- U_a : m (m a) -> m a
- alg : m a -> a
- First coherence condition
  - alg compose N_a = id_a
- Second coherence condition
  - alg compose U_a = alg compose (m alg)
```OCaml
compose alg return = id
compose alg join = compose alg (fmap alg)
```
- Algebra for a list endofunctor
  - type a
  - function that produces a from [a]
- foldr can be used to express that algebra
```OCaml
val fold_right : ('a -> 'b -> 'b) -> 'a list -> 'b -> 'b
```
- List Algebra - foldr f z 
```OCaml
(* List module in the OCaml standard library accepts list before z *)
List.fold_right f [x] z = f x z
```
- List Algebra is compatible with the monad if
```OCaml
f x z = x
```
- z is the right unit
### T-algebras
- T - Monads 
- Algebras compatible with monads - T algebras
- T algebras for a Monad T in category C form a Eilenberg-Moore category C^T
- Morphisms in that category are homomorphisms of algebras
- Forgetful functor U^T from C^T to C ; maps (a, f) -> a
  - Maps homomorphism of T algebras to a corresponding morphism between carrier objects in C
- Free functor(left adjoint to U^T) - F^T
  - maps an object a in C to C^T
- Left adjoint functor aka Free functor (F^T) - goes from C to C^T
- Right adjoint functor aka Forgetful functor (U^T) - goes from C^T to C
- F^T maps object a in C to an Object(Free algebra) in C^T. This object is T a
- morphisms in C^T are T (T a) -> T a
- To show that the Free algebra is a T algebra
  - compose alg (N_a at T a) = id at T a
  - compose alg U_a = compose alg (T alg)
- These are monadic laws
- Every adjunction defines a monad
- Adjunction between F^T and U^T also forms a monad and that monad is T.
- T was used to construct C^T
- Since we can form the category C^T for any monad and this category C^T forms a nice adjunction which leads to the formation of T monad, we can say that every monad can be formed from an adjunction
- Adjunction between F^T and U^T
  - To prove: F^T is the left adjoint of U^T
  - unit and counit for this adjunction
  - Triangular identities are satisfied
  - Monad generated by this adjunction is the original monad T
- unit of this adjunction
  - N :: I -> U^T `compose` F^T
  - Free functor -> Free algebra -> (T a, U_a)
  - Forgetful functor -> reduces the free algebra to T a
  - This is just a mapping from a to T a
  - unit of monad T provides this mapping
- counit of this adjunction
  - E :: F^T `compose` U^T -> I
  - T-algebra (a, f)
